<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="./img/apple-touch-icon.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="./img/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="./img/favicon-16x16.png"
		/>
		<link rel="manifest" href="./img/site.webmanifest" />
		<link rel="stylesheet" href="./css/style.css" />
		<title>Document</title>
	</head>
	<body>
		<div class="container">
			<label class="switch" style="top: 40px; right: 135px">
				<input id="toggle" type="checkbox" />
				<span class="slider"></span>
			</label>
		</div>

		<script type="module" src="./js/script.js"></script>
		<script>
			window.onload = function () {
				const toggle = document.getElementById('toggle')

				function applyColorScheme(scheme) {
					document.body.classList.remove('dark', 'light')
					document.body.classList.add(scheme)
					toggle.checked = scheme === 'dark'
				}

				if (window.matchMedia) {
					const darkSchemeMediaQuery = window.matchMedia(
						'(prefers-color-scheme: dark)'
					)
					applyColorScheme(darkSchemeMediaQuery.matches ? 'dark' : 'light')

					darkSchemeMediaQuery.addEventListener('change', function (e) {
						applyColorScheme(e.matches ? 'dark' : 'light')
					})
				} else {
					applyColorScheme('light')
				}

				toggle.addEventListener('change', function (e) {
					if (e.target.checked) {
						applyColorScheme('dark')
					} else {
						applyColorScheme('light')
					}
				})
			}
		</script>
	</body>
</html>
